#!ipxe
isset ${server-ip} || set server-ip adriankoshka.xyz

:start
#console --picture http://boot.ipxe.org/ipxe.png
menu webboot
item --gap --             --------------------------- DE -----------------------------------
item deb_stan_586 Debian standard
item deb_cinn_586 Debian with Cinnamon
item deb_gnom_586 Debian with GNOME
item deb_kde_586  Debian with KDE
item deb_lxde_586 Debian with LXDE
item deb_mate_586 Debian with MATE
item deb_xfce_586 Debian with XFCE
item --gap --             ------------------------- Options --------------------------------
item --key g goback (G)o back to previous menu
choose version && goto ${version} || goto start

:deb_stan_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-standard.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-standard.initrd1.img
imgargs debian-live-8.7.1-i386-standard.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-standard.squashfs initrd=debian-live-8.7.1-i386-standard.initrd1.img
boot || imgfree
goto start

:deb_cinn_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-cinnamon-desktop.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-cinnamon-desktop.initrd1.img
imgargs debian-live-8.7.1-i386-cinnamon-desktop.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-cinnamon-desktop.squashfs initrd=debian-live-8.7.1-i386-cinnamon-desktop.initrd1.img
boot || imgfree
goto start

:deb_gnom_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-gnome-desktop.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-gnome-desktop.initrd1.img
imgargs debian-live-8.7.1-i386-gnome-desktop.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-gnome-desktop.squashfs initrd=debian-live-8.7.1-i386-gnome-desktop.initrd1.img
boot || imgfree
goto start

:deb_kde_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-kde-desktop.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-kde-desktop.initrd1.img
imgargs debian-live-8.7.1-i386-kde-desktop.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-kde-desktop.squashfs initrd=debian-live-8.7.1-i386-kde-desktop.initrd1.img
boot || imgfree
goto start

:deb_lxde_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-lxde-desktop.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-lxde-desktop.initrd1.img
imgargs debian-live-8.7.1-i386-lxde-desktop.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-lxde-desktop.squashfs initrd=debian-live-8.7.1-i386-lxde-desktop.initrd1.img
boot || imgfree
goto start

:deb_mate_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-mate-desktop.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-mate-desktop.initrd1.img
imgargs debian-live-8.7.1-i386-mate-desktop.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-mate-desktop.squashfs initrd=debian-live-8.7.1-i386-mate-desktop.initrd1.img
boot || imgfree
goto start

:deb_xfce_586
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-xfce-desktop.vmlinuz1
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-xfce-desktop.initrd1.img
imgargs debian-live-8.7.1-i386-xfce-desktop.vmlinuz1 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-xfce-desktop.squashfs initrd=debian-live-8.7.1-i386-xfce-desktop.initrd1.img
boot || imgfree
goto start

:goback
chain http://${server-ip}/boot/linux/debian.ipxe

# Great thanks to antonym of https://www.reversengineered.com for writing a helpful article and code snippet to help me understand webboot!
# https://www.reversengineered.com/2014/05/17/building-and-booting-debian-live-over-the-network/
# imgargs and such wouldn't of been possible without stumbling upon this!
