#!ipxe
isset ${server-ip} || set server-ip adriankoshka.xyz

:start
#console --picture http://boot.ipxe.org/ipxe.png
menu webboot
item --gap --             --------------------------- DE -----------------------------------
item deb_stan_686 Debian standard
item deb_cinn_686 Debian with Cinnamon
item deb_gnom_686 Debian with GNOME
item deb_kde_686  Debian with KDE
item deb_lxde_686 Debian with LXDE
item deb_mate_686 Debian with MATE
item deb_xfce_686 Debian with XFCE
item --gap --             ------------------------- Options --------------------------------
item --key g goback (G)o back to previous menu
choose version && goto ${version} || goto start

:deb_stan_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-standard.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-standard.initrd2.img
imgargs debian-live-8.7.1-i386-standard.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-standard.squashfs initrd=debian-live-8.7.1-i386-standard.initrd2.img
boot || imgfree
goto start

:deb_cinn_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-cinnamon-desktop.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-cinnamon-desktop.initrd2.img
imgargs debian-live-8.7.1-i386-cinnamon-desktop.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-cinnamon-desktop.squashfs initrd=debian-live-8.7.1-i386-cinnamon-desktop.initrd2.img
boot || imgfree
goto start

:deb_gnom_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-gnome-desktop.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-gnome-desktop.initrd2.img
imgargs debian-live-8.7.1-i386-gnome-desktop.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-gnome-desktop.squashfs initrd=debian-live-8.7.1-i386-gnome-desktop.initrd2.img
boot || imgfree
goto start

:deb_kde_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-kde-desktop.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-kde-desktop.initrd2.img
imgargs debian-live-8.7.1-i386-kde-desktop.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-kde-desktop.squashfs initrd=debian-live-8.7.1-i386-kde-desktop.initrd2.img
boot || imgfree
goto start

:deb_lxde_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-lxde-desktop.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-lxde-desktop.initrd2.img
imgargs debian-live-8.7.1-i386-lxde-desktop.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-lxde-desktop.squashfs initrd=debian-live-8.7.1-i386-lxde-desktop.initrd2.img
boot || imgfree
goto start

:deb_mate_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-mate-desktop.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-mate-desktop.initrd2.img
imgargs debian-live-8.7.1-i386-mate-desktop.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-mate-desktop.squashfs initrd=debian-live-8.7.1-i386-mate-desktop.initrd2.img
boot || imgfree
goto start

:deb_xfce_686
kernel http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-xfce-desktop.vmlinuz2
module http://mirror.rit.edu/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-xfce-desktop.initrd2.img
imgargs debian-live-8.7.1-i386-xfce-desktop.vmlinuz2 boot=live config hooks=filesystem ${conkern} username=live noeject fetch=http://129.21.171.72/debian-cd/current-live/i386/webboot/debian-live-8.7.1-i386-xfce-desktop.squashfs initrd=debian-live-8.7.1-i386-xfce-desktop.initrd2.img
boot || imgfree
goto start

:goback
chain http://${server-ip}/boot/linux/debian.ipxe

# Great thanks to antonym of https://www.reversengineered.com for writing a helpful article and code snippet to help me understand webboot!
# https://www.reversengineered.com/2014/05/17/building-and-booting-debian-live-over-the-network/
# imgargs and such wouldn't of been possible without stumbling upon this!
